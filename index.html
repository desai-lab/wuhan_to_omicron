<!DOCTYPE html>
<html lang="en">
<head>
  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="https://fonts.googleapis.com/css?family=Crimson+Text&display=swap" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="yoda.css">

  <!-- JS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apache-arrow@3"></script>
  <script src="https://cdn.jsdelivr.net/npm/arquero@latest"></script>
  <script src="yoda.js"></script>
  <script src="https://unpkg.com/ngl@0.10.4/dist/ngl.js"></script>
  <script type="module">
    import {interpolateRdBu} from "https://cdn.skypack.dev/d3-scale-chromatic@3";
  </script>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>Interactive Data Browser</title>

</head>
<body onload="read_files('data/omicron.csv')">
  <div id="yoda_everything">
    <div id="ace2_fluo_buttons">
    <div class='antigen_button antigen_active' id='antigen_ACE2' onclick="kd_for('ACE2')">ACE2</div>

    <div class='antigen_button antigen_active' id='antigen_Expression' onclick="kd_for('Expression')">Expression</div>
    </div>
    <div id='antibody_buttons'>
    <!-- <div class='antigen_button antigen_active' id='antigen_S309' onclick="kd_for('S309')">S309</div> -->
    <!-- <div class='antigen_button antigen_active' id='antigen_CB6' onclick="kd_for('CB6')">CB6</div> -->
    <!-- <div class='antigen_button antigen_active' id='antigen_CoV555' onclick="kd_for('CoV555')">CoV555</div> -->
    <!-- <div class='antigen_button antigen_active' id='antigen_REGN10987' onclick="kd_for('REGN10987')">REGN10987</div> -->
    </div>

    <p id='yoda_title'>OMICRON</p>
    <p id='yoda_about' onclick="toggle_about()">ABOUT</p>
    <p id='loading_message'>DATA LOADING...</p>
    <div id="yoda_left_bar"></div>

    <div id="yoda_ngl_viewer"></div>
    <canvas id="yoda_canvas" width="800" height="580"></canvas>
    <svg id="yoda_svg" width="900" height="650"></svg>
    <div id="yoda_about_div">
      <div id="about_x_out" onclick="toggle_about()">✕</div>
      <h2>Omicron combinatorial landscape</h2>
      <p>
	Combinatorial landscape between the Wuhan and Omicron strains of the Sars-Cov-2 virus. Work by the <a href="http://www.desai-lab.com/">Desai Lab</a>. Browser created by Milo Johnson (milo.s.johnson.13 [at] gmail.com)). Contact Thomas Dupic (dupic.thomas [at] gmail.com) for questions.
      </p>

      <h4> Tips </h4>
      <p>
	<ul>
	  <li> Click on C next to mutations to color the landscape according to these mutations (up to three) </li>
	  <li> Click on Δ next to a mutation to color the landscape according to the effect of the mutation on this specific background (red/blue increased/decreased binding respectively) </li>
	  <li> Click on a mutation to only show the variants that have it </li>
	  <li> Use left/right arrow to move between variants </li>
	</ul>
      </p>
    </div>
    <div id="switch_holder">
      <p id="switch_label">Binary genotypes</p>
      <label class="switch">
        <input id="geno_display_switch" type="checkbox">
        <span class="slider"></span>
      </label>
    </div>
  </div>
</body>
</html>
